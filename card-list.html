<link rel="import" href="bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="unsecured-loan-form.html">

<polymer-element name="card-list" attributes="categoryType">
<template>

<style>
.chip-container {
  position: absolute;
  top: 8px;
  right: 0;
  left: 0;
  text-align: center;
}

.chip {
  display: inline-block;
  position: relative;
  border-radius: 3px;
  margin: 4px;
  overflow: hidden;
  text-align: start;
  background-color: #fff;
  box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.16);
}

.chip-top {
  width: 200px;
  height: 200px;
}

.chip-bottom {
  padding: 8px;
  line-height: 1.5;
}

.chip-title {
  font-weight: bold;
}

#details {
  padding: 8px 10% 0;
}

.card {
  width:100%;
  border-radius: 3px;
  text-align: start;
  overflow: hidden;
  background: #fff;
  box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.19);
}

.card-zoom {
  padding: 24px;
}

.card-icon {
  border-radius: 50%;
  width: 60px;
  height: 60px;
  margin-right: 16px;
}

.card-title {
  font-size: 2em;
}

.contract-icon {
  height: 50%;
  width: 50%;
  margin: auto;
  position: relative;
  top: 25%;
  left: 25%;
  color: #727272;
}
</style>

<core-animated-pages selected="{{page}}" transitions="hero-transition" on-core-animated-pages-transition-end="{{complete}}">

<section>

  <div class="chip-container" hero-p on-tap="{{transition}}">

    <template repeat="{{items as item}}">

      <template if="{{item.type == categoryType}}">

        <div class="chip" hero-id="{{item.type}}-{{item.contract}}" hero?="{{selectedContract === item }}">
          <div class="chip-top" style="background:{{item.color}};" hero-id="{{item.type}}-{{item.contract}}-art" hero?="{{selectedContract === item}}">
            <core-icon class="contract-icon" icon="{{item.icon}}"></core-icon>
          </div>
          <div class="chip-bottom">
            <div class="chip-title">{{item.contract}}</div>
            <div class="chip-type">{{item.type}}</div>
          </div>
        </div>

      </template>

    </template>

  </div>
</section>

<section id="details">

  <div class="card" layout horizontal hero-id="{{selectedContract.type}}-{{selectedContract.contract}}" hero on-tap="{{transition}}">
    <div class="card-zoom" hero-id="{{selectedContract.type}}-{{selectedContract.contract}}-art" hero flex>
      <div layout horizontal center>
        <div>
          <div class="card-icon" style="background:{{selectedContract.color}};">
            <core-icon class="contract-icon secondary-text-color" style="margin: auto; position:relative; top:25%; left:25%;" icon="{{selectedContract.icon}}"></core-icon>
          </div>
        </div>
        <div flex>
          <div class="card-title">{{selectedContract.contract}}</div>
          <div class="card-type">{{selectedContract.type}}</div>
        </div>
      </div>
      <unsecured-loan-form></unsecured-loan-form>
    </div>
  </div>

</section>

</core-animated-pages>

</template>
<script>

Polymer('card-list', {

page: 0,

items: [
{ type: 'Loans', contract: 'Unsecured', color: '#CFD8DC', icon: 'credit-card', form: 'unsecured-loan-form' },
{ type: 'Loans', contract: 'Secured', color: '#CFD8DC', icon: 'https'},
{ type: 'Loans', contract: 'Bond', color: '#CFD8DC', icon: 'receipt' },
{ type: 'Loans', contract: 'IR Swap', color: '#CFD8DC', icon: 'swap-horiz' },
{ type: 'Loans', contract: 'Custom', color: '#CFD8DC', icon: 'add' },
{ type: 'Payments', contract: 'Custom', color: '#CFD8DC', icon: 'add' },
{ type: 'Derivatives', contract: 'Custom', color: '#CFD8DC', icon: 'add' },
{ type: 'Insurance', contract: 'Custom', color: '#CFD8DC', icon: 'add' }
],

selectedContract: null,

transition: function(e) {
if (this.page === 0 && e.target.templateInstance.model.item) {
this.selectedContract = e.target.templateInstance.model.item;
this.page = 1;
} else {
this.page = 0;
}
}
});

</script>
</polymer-element>
